import{d as C,r as c,_ as w,c as p,o as k,a as x,b as v,e,u as s,f as S,t as b,g as i,w as V,h as N,A as $,i as j,j as A}from"./index-CUGguU5z.js";const B="/assets/chen-CIhjr1N1.jpeg",U=C("account",()=>{const f=c(""),u=c(0),r=c({freeSize:0,mail189UsedSize:0,totalSize:0,usedSize:0}),n=c({freeSize:0,totalSize:0,usedSize:0});function t(d,a){switch(d){case"account":f.value=a;break;case"totalSize":u.value=a;break;case"cloudCapacityInfo":r.value=a;break;case"familyCapacityInfo":n.value=a;break}}return{account:f,totalSize:u,familyCapacityInfo:n,cloudCapacityInfo:r,setValue:t}}),q={class:"user-info-top"},D={class:"user-info-name"},E={class:"name"},F={__name:"index",setup(f){const u=j(),r=c(window.localStorage.getItem("username")),n=c(window.localStorage.getItem("account")),t=U(),d=p(()=>t.totalSize),a=p(()=>t.cloudCapacityInfo),_=p(()=>t.familyCapacityInfo),{setValue:m}=t,z=()=>{window.localStorage.removeItem("username"),window.localStorage.removeItem("token"),u.push("/login")},g=()=>{(n!=t.account||!d.value)&&window.sessionStorage.getItem("cloud")&&$.getUserSizeInfo().then(l=>{m("account",n.value),m("totalSize",l.totalSize),m("cloudCapacityInfo",l.cloudCapacityInfo),m("familyCapacityInfo",l.familyCapacityInfo)})};return k(()=>{g()}),(I,l)=>{const h=S("van-image"),o=S("van-cell"),y=S("van-button");return A(),x("div",null,[v("div",q,[e(h,{height:"60px",round:"",src:s(B),width:"60px"},null,8,["src"]),v("div",D,[v("div",E,b(r.value),1)])]),e(o,{title:"云盘账号:","is-link":"",value:n.value,size:"small",to:"/home/account"},null,8,["value"]),e(o,{title:"总空间:",value:s(i)(d.value),inset:""},null,8,["value"]),e(o,{title:"个人空间:",inset:"",value:`${s(i)(a.value.usedSize)}/${s(i)(a.value.totalSize)}`},null,8,["value"]),e(o,{title:"家庭空间:",inset:"",value:`${s(i)(_.value.usedSize)}/${s(i)(_.value.totalSize)}`},null,8,["value"]),e(o,{title:"定时设置","is-link":"",size:"small",to:"/home/user/setting"}),e(o,{title:"修改密码","is-link":"",size:"small",to:"/home/user/register"}),e(o,{title:"频道消息","is-link":"",size:"small",to:"/home/user/channel"}),e(y,{block:"",hairline:"",square:"",type:"default",onClick:z},{default:V(()=>l[0]||(l[0]=[N("退出登录")])),_:1})])}}},M=w(F,[["__scopeId","data-v-01542ccd"]]);export{M as default};
