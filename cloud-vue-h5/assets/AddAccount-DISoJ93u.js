import{r as h,a as m,e as t,u as _,j as x,f as n,w as s,b as v,F as C,v as A,i as f,k as u,x as B,A as U,y as N}from"./index-idOx3MXX.js";const I={style:{margin:"16px"}},R={style:{margin:"16px"}},F={__name:"AddAccount",setup(S){const c=x();let o=h([{account:"",password:""}]);const b=()=>{o.value.push({account:"",password:""})},g=r=>{o.value.splice(r,1)},k=r=>{console.log("submit",o.value),U.BatchUpdate({list:o.value}).then(e=>{console.log("onSubmitres >>>>>:",e),o.ref=[{account:"",password:""}],c.back(),N({type:"success",message:"保存成功",duration:1e3})})};return(r,e)=>{const y=n("van-nav-bar"),d=n("van-field"),w=n("van-cell-group"),p=n("van-button"),V=n("van-form");return u(),m("div",null,[t(y,{title:"新增/更新账号","left-arrow":"",onClickLeft:e[0]||(e[0]=a=>_(c).back())}),t(V,{onSubmit:k},{default:s(()=>[(u(!0),m(C,null,A(_(o),(a,i)=>(u(),B(w,{inset:"",key:i,style:{"margin-top":"16px"}},{default:s(()=>[t(d,{modelValue:a.account,"onUpdate:modelValue":l=>a.account=l,name:"account",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}],"right-icon":"delete-o",onClickRightIcon:l=>g(i)},null,8,["modelValue","onUpdate:modelValue","onClickRightIcon"]),t(d,{modelValue:a.password,"onUpdate:modelValue":l=>a.password=l,type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),v("div",I,[t(p,{icon:"plus",type:"primary",block:"",plain:"",onClick:b},{default:s(()=>e[1]||(e[1]=[f("继续添加")])),_:1})]),v("div",R,[t(p,{round:"",block:"",type:"primary","native-type":"submit"},{default:s(()=>e[2]||(e[2]=[f(" 提交 ")])),_:1})])]),_:1})])}}};export{F as default};
